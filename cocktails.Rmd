---
title: "cocktails"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## R Markdown

This is an R Markdown presentation. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document.

## Slide with Bullets

- Bullet 1
- Bullet 2
- Bullet 3

## Slide with R Output

```{r cars, echo = TRUE}
########## HTTP request ###########
library(httr)

req <- GET("https://www.socialandcocktail.co.uk",
           path = "cocktail-recipes",
           query = list(sort_by = "title",
                        sort_name = "Name",
                        custom_sort = "0",
                        sort = "ASC"))
req[["url"]]
req[["status_code"]]
html <- content(req)


```

## Slide with Plot

```{r pressure}
library(xml2)
library(rvest)

# names <- html %>% html_nodes("body")%>% html_nodes("h3") %>% html_text()
# names <- names[1:length(names) - 1]
# total_names <- c()
# total_names <- append(total_names, names, length(names))

ingrdients <- html %>% html_nodes(".content-appear") %>% html_nodes("p") %>% html_text(",")
ingrdients
# ingrdients[html_attr(ingrdients, "style")=="font-size:0.7em]
```


```{r}
library(httr)
library(xml2)
library(rvest)

total_names <- c()
for (i in 2:36){
  req <- GET("https://www.socialandcocktail.co.uk",
           path = c("cocktail-recipes", "page", as.character(i)),
           query = list(sort_by = "title",
                        sort_name = "Name",
                        custom_sort = "0",
                        sort = "ASC"))
  # print(req[["url"]])
  html <- content(req)
  
  names <- html %>% html_nodes("body")%>% html_nodes("h3") %>% html_text()
  names <- names[1 : length(names) - 1]
  total_names <- append(total_names, names, after = length(total_names))
}
total_names



```



```{r}
library(tidyr)
library(dplyr)

table <- read.csv("~/Documents/GitHub/cocktails_project/cocktails.csv")
table <- as_tibble(table)

```

```{r}
table[(table$ingredient_1 == "Jagermeister"), ]

```
```{r}
library(httr)
library(xml2)
library(rvest)



req <- GET("https://www.socialandcocktail.co.uk",
                    path = "alcohol")
req[["url"]]
req[["status_code"]]
html <- content(req)

liquor_name <- html %>% html_nodes("ul.open-chooser > li > a") %>% html_text()
liquor_name

alcohol_content <- vector("numeric", length = 259)

liquor_table <- data_frame(liquor_names = liquor_name, alcohol_contents = alcohol_content)
liquor_table

write.csv(liquor_table, file = "liquor_table.csv", row.names = F, na = " ", sep = ",")
```

```{r}
fh1 <- read.csv("liquor_table.csv")
fh1


```